# CoreDNS configuration for DNS seeder proxy
.:53 {
    errors
    log

    # Route mainnet queries
    template IN A dnsseed.junomoneta.io {
        match "^dnsseed\.junomoneta\.io\.$"
        answer "{{ .Name }} 3600 IN A 170.64.236.251"
        upstream 172.20.0.4:53
    }

    # Route testnet queries
    template IN A dnsseed.testnet.junomoneta.io {
        match "^dnsseed\.testnet\.junomoneta\.io\.$"
        answer "{{ .Name }} 3600 IN A 170.64.236.251"
        upstream 172.20.0.3:53
    }

    # Forward to appropriate backend
    forward dnsseed.junomoneta.io 172.20.0.4:53
    forward dnsseed.testnet.junomoneta.io 172.20.0.3:53
}
